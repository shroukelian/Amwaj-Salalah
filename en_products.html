<!DOCTYPE html>
<html lang="en" dir="ltr" class="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category Products | Amwaj Salalah Grocery</title>
    <link rel="stylesheet" href="style.css?v=2.1">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <header>
        <!-- 1. Top Bar (Logo, Language, Cart) -->
        <div class="top-header-bar">
            <div class="container header-container">
                <div class="logo header-logo" style="margin-top:10px;">
                    <a href="en_home.html" style="display: flex; align-items: center; gap: 5px;">
                        <img src="images/logo-removebg-preview (3).png" alt="Amwaj Salalah Grocery Logo" style="height: 35px; width: auto;">
                        <span style="font-size: 1.1em; font-weight: 900; color: var(--amwaj-text-dark);">Amwaj Salalah Grocery</span>
                    </a>
                </div>
                
                <div class="header-actions-group">
                    <a href="products.html?category=dairy" class="lang-btn">العربية</a>
                    <button class="cart-btn" onclick="openCart()">
                        <i class="fas fa-shopping-cart"></i> 
                        <span class="cart-count">0</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 2. Search Bar -->
        <form onsubmit="handleSearch(event)">
            <div class="search-bar-container">
                <div class="container">
                    <input type="text" id="product-search" class="search-input" placeholder="Enter Product Name or Category for Interactive Search...">
                </div>
            </div>
        </form>

        <!-- 3. Scrolling Banner (Marquee) -->
        <div class="scrolling-banner">
            <div class="container">
                <span id="marquee-text">✨ Seasonal offers and special discounts await! Shop now and save more. ✨</span>
            </div>
        </div>
    </header>

    <main style="padding-top: 150px;">
        <div class="container" id="first-content-block" style="padding-top: 20px;">
            <h1 style="text-align: center; color: var(--amwaj-primary);">
                Category Products: <span id="category-name-display" style="color: var(--amwaj-accent);">...</span>
            </h1>
            <p style="text-align: center; color: #777; margin-bottom: 30px;">
                There are currently <span id="product-count-display">...</span> products in this category.
            </p>

            <section id="category-products-section" class="page-section" style="padding: 0;">
                <div class="product-grid" id="product-list-container" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                    
                    <!-- Placeholder Product Card (ID: 3) - Milk -->
                    <div class="product-card" id="product-3">
                        <img src="images/milk-bottle.jpg" alt="Fresh Milk">
                        <h4 style="color: var(--amwaj-text-dark); margin: 5px 0;">Al Marai Fresh Milk</h4>
                        <p style="font-size: 0.9em; color: #777;">1 Liter Bottle</p>
                        <div class="unit-selector">
                            <select id="unit-3" onchange="updatePrice('3', 0.500, 5.500)">
                                <option value="piece">Single Bottle</option>
                                <option value="carton">By Carton (12 pcs)</option>
                            </select>
                        </div>
                        <p class="price-display" id="price-3">0.500 OMR</p>
                        <button class="add-to-cart-btn" data-price="0.500" onclick="addToCart('3', 'Al Marai Fresh Milk', 'Single Bottle')">Add to Cart</button>
                    </div>

                    <!-- Placeholder Product Card (ID: 4) - Cheese -->
                    <div class="product-card" id="product-4">
                        <img src="images/cheese-pack.jpg" alt="Cheddar Cheese">
                        <h4 style="color: var(--amwaj-text-dark); margin: 5px 0;">Natural Cheddar Cheese</h4>
                        <p style="font-size: 0.9em; color: #777;">500 Gram Pack</p>
                        <div class="unit-selector">
                            <select id="unit-4" onchange="updatePrice('4', 1.200, 10.000)">
                                <option value="piece">Single Pack</option>
                                <option value="carton">By Box (10 packs)</option>
                            </select>
                        </div>
                        <p class="price-display" id="price-4">1.200 OMR</p>
                        <button class="add-to-cart-btn" data-price="1.200" onclick="addToCart('4', 'Cheddar Cheese', 'Single Pack')">Add to Cart</button>
                    </div>
                    
                </div>
            </section>
        </div>
    </main>

    <!-- Floating Utility Buttons -->
    <div class="utility-buttons">
        <button onclick="window.history.back()" class="back-btn"><i class="fas fa-arrow-left"></i></button>
        <button onclick="scrollToTop()" class="back-btn"><i class="fas fa-arrow-up"></i></button>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-social-links" style="text-align: center; margin-bottom: 20px;">
                <a href="#"><i class="fab fa-tiktok" style="color: white; background: black; border-radius: 50%; padding: 5px;"></i></a>
                <a href="#"><i class="fab fa-snapchat-ghost" style="color: black; background: #FFFC00; border-radius: 50%; padding: 5px;"></i></a>
                <a href="#"><i class="fab fa-instagram" style="color: white; background: #E4405F; border-radius: 50%; padding: 5px;"></i></a>
                <a href="#"><i class="fab fa-facebook-f" style="color: white; background: #1877F2; border-radius: 50%; padding: 5px;"></i></a>
                <a href="https://api.whatsapp.com/send?phone=96896755118" target="_blank"><i class="fab fa-whatsapp" style="color: white; background: var(--amwaj-green); border-radius: 50%; padding: 5px;"></i></a>
            </div>
            
            <p style="text-align: center; margin: 5px 0; color: var(--amwaj-secondary);">
                Programming and development by Eng. Abdulaziz Ahmed 
                <a href="https://api.whatsapp.com/send?phone=96896755118" target="_blank" style="color: var(--amwaj-green); font-weight: 700;">
                    +968 9675 5118
                </a>
            </p>
            <p style="text-align: center; margin: 0; font-size: 0.9em; color: #777;">
                &copy; 2025 Amwaj Salalah Grocery. All rights reserved.
            </p>
        </div>
    </footer>

    <script src="main.js?v=2.1"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const categorySlug = urlParams.get('category');
            
            let categoryName = "All Products";
            if (categorySlug === 'dairy') categoryName = "Dairy & Cheese";
            if (categorySlug === 'meat') categoryName = "Meat & Poultry";
            
            document.getElementById('category-name-display').textContent = categoryName;
            document.getElementById('product-count-display').textContent = "24"; 
            
            // Initialize prices for the demo products
            updatePrice('3', 0.500, 5.500);
            updatePrice('4', 1.200, 10.000);
        });
    </script>
</body>
</html>